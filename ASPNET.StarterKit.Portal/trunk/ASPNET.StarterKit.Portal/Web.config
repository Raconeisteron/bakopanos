<?xml version="1.0"?>

<!--
	For more information on how to configure your ASP.NET application, please visit
	http://go.microsoft.com/fwlink/?LinkId=169433
	-->

<configuration>

  <configSections>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection,Microsoft.Practices.Unity.Configuration" />
  </configSections>
  
	<!-- application specific settings -->
	<appSettings>
    
    <add key="configFile" value="PortalCfg.xml" />
    
    <add key="PortalConfigurationUnit" value="XmlFile" />
    <add key="PortalSecurityUnit" value="SqlClient" />
    <add key="PortalModulesUnit" value="SqlClient" />
    
	</appSettings>

	<connectionStrings>
		<add name="ConnectionString" providerName="System.Data.SqlClient" connectionString="server=localhost\sqlexpress;Trusted_Connection=true;database=Portal" />
	</connectionStrings>

	<system.web>

		<!-- set debugmode to false for running application -->
		<compilation debug="true" targetFramework="4.0" />

		<!--The Portal Starter Kit supports either Forms authentication (Internet)
						or Windows authentication (for intranets).  Forms Authentication is
						the default.  To change to Windows authentication, comment the 
						<authentication mode="Forms"> section below, and uncomment the 
						<authentication mode="Windows"> section. -->

		<authentication mode="Forms">
			<forms name=".ASPXAUTH" protection="All" timeout="60" />
		</authentication>

		<!--<authentication mode="Windows" />
				<authorization>
						<deny users="?" />
				</authorization>-->

		<httpRuntime useFullyQualifiedRedirectUrl="true" />
		<globalization fileEncoding="utf-8" requestEncoding="utf-8" responseEncoding="utf-8" />
		<pages validateRequest="true" theme="Default" />

	</system.web>

  <unity xmlns="http://schemas.microsoft.com/practices/2010/unity">
    <namespace name="ASPNET.StarterKit.Portal" />
    <assembly name="PortalConfiguration" />
    <assembly name="PortalModules" />
    <assembly name="PortalSecurity" />
    <assembly name="PortalCore" />
    <container>

      <register name="PortalConfigurationUnit" type="IUnit" mapTo="PortalConfigurationUnit">
        <lifetime type="singleton" />
      </register>

      <register name="PortalModulesUnit" type="IUnit" mapTo="PortalModulesUnit">
        <lifetime type="singleton" />
      </register>

      <register name="PortalSecurityUnit" type="IUnit" mapTo="PortalSecurityUnit">
        <lifetime type="singleton" />
      </register>
      
      
    </container>
  </unity>

</configuration>